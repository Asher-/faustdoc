<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        
        
        
        <link rel="shortcut icon" href="../../img/favicon.ico">
        <title> 2020-04-10 Faust 101  - Faust Language</title>
        <link href="../../css/bootstrap.min.css" rel="stylesheet">
        <link href="../../css/font-awesome.min.css" rel="stylesheet">
        <link href="../../css/base.css" rel="stylesheet">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/docco.min.css">
        <link href="/css/faust.css" rel="stylesheet">

        <script src="../../js/jquery-1.10.2.min.js" defer></script>
        <script src="../../js/bootstrap.min.js" defer></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js"></script>
        <script>hljs.initHighlightingOnLoad();</script> 
    </head>

    <body>
        <div class="navbar fixed-top navbar-expand-lg navbar-dark bg-primary">
            <div class="container">
                <a class="navbar-brand" href="../..">Faust Language</a>
                <!-- Expander button -->
                <button type="button" class="navbar-toggler" data-toggle="collapse" data-target="#navbar-collapse">
                    <span class="navbar-toggler-icon"></span>
                </button>

                <!-- Expanded navigation -->
                <div id="navbar-collapse" class="navbar-collapse collapse">
                        <!-- Main navigation -->
                        <ul class="nav navbar-nav">
                            <li class="navitem">
                                <a href="../.." class="nav-link">Home</a>
                            </li>
                            <li class="dropdown">
                                <a href="#" class="nav-link dropdown-toggle" data-toggle="dropdown">User Guide <b class="caret"></b></a>
                                <ul class="dropdown-menu">
                                    
<li>
    <a href="../../guide/introduction/" class="dropdown-item">Introduction</a>
</li>
                                    
<li>
    <a href="../../guide/overview/" class="dropdown-item">Overview</a>
</li>
                                    
<li>
    <a href="../../guide/quick-start/" class="dropdown-item">Quick start</a>
</li>
                                    
<li>
    <a href="../../guide/embedding/" class="dropdown-item">Embedding</a>
</li>
                                    
<li>
    <a href="../../guide/osc/" class="dropdown-item">OSC Support</a>
</li>
                                    
<li>
    <a href="../../guide/http/" class="dropdown-item">HTTP Support</a>
</li>
                                    
<li>
    <a href="../../guide/midi/" class="dropdown-item">MIDI Support</a>
</li>
                                    
<li>
    <a href="../../guide/mathdoc/" class="dropdown-item">Math. Doc</a>
</li>
                                </ul>
                            </li>
                            <li class="dropdown">
                                <a href="#" class="nav-link dropdown-toggle" data-toggle="dropdown">Reference <b class="caret"></b></a>
                                <ul class="dropdown-menu">
                                    
<li>
    <a href="../../refs/syntax/" class="dropdown-item">Faust Syntax</a>
</li>
                                    
<li>
    <a href="../../refs/options/" class="dropdown-item">Compiler Options</a>
</li>
                                    
<li>
    <a href="../../refs/compiler/" class="dropdown-item">Using the Compiler</a>
</li>
                                    
<li>
    <a href="../../refs/tools/" class="dropdown-item">Using Tools</a>
</li>
                                </ul>
                            </li>
                            <li class="dropdown">
                                <a href="#" class="nav-link dropdown-toggle" data-toggle="dropdown">Examples <b class="caret"></b></a>
                                <ul class="dropdown-menu">
                                    
<li>
    <a href="../../examples/ambisonics/" class="dropdown-item"> ambisonics </a>
</li>
                                    
<li>
    <a href="../../examples/analysis/" class="dropdown-item"> analysis </a>
</li>
                                    
<li>
    <a href="../../examples/bela/" class="dropdown-item"> bela </a>
</li>
                                    
<li>
    <a href="../../examples/delayEcho/" class="dropdown-item"> delayEcho </a>
</li>
                                    
<li>
    <a href="../../examples/dynamic/" class="dropdown-item"> dynamic </a>
</li>
                                    
<li>
    <a href="../../examples/filtering/" class="dropdown-item"> filtering </a>
</li>
                                    
<li>
    <a href="../../examples/gameaudio/" class="dropdown-item"> gameaudio </a>
</li>
                                    
<li>
    <a href="../../examples/generator/" class="dropdown-item"> generator </a>
</li>
                                    
<li>
    <a href="../../examples/misc/" class="dropdown-item"> misc </a>
</li>
                                    
<li>
    <a href="../../examples/phasing/" class="dropdown-item"> phasing </a>
</li>
                                    
<li>
    <a href="../../examples/physicalModeling/" class="dropdown-item"> physicalModeling </a>
</li>
                                    
<li>
    <a href="../../examples/pitchShifting/" class="dropdown-item"> pitchShifting </a>
</li>
                                    
<li>
    <a href="../../examples/psychoacoustic/" class="dropdown-item"> psychoacoustic </a>
</li>
                                    
<li>
    <a href="../../examples/reverb/" class="dropdown-item"> reverb </a>
</li>
                                    
<li>
    <a href="../../examples/SAM/" class="dropdown-item"> SAM </a>
</li>
                                    
<li>
    <a href="../../examples/smartKeyboard/" class="dropdown-item"> smartKeyboard </a>
</li>
                                    
<li>
    <a href="../../examples/spat/" class="dropdown-item"> spat </a>
</li>
                                    
<li>
    <a href="../../rsrc/examples.zip" class="dropdown-item"> Download examples </a>
</li>
                                </ul>
                            </li>
                            <li class="dropdown active">
                                <a href="#" class="nav-link dropdown-toggle" data-toggle="dropdown">Workshops <b class="caret"></b></a>
                                <ul class="dropdown-menu">
                                    
<li>
    <a href="../2018-12-01-paw/" class="dropdown-item"> 2018-12-01 PAW </a>
</li>
                                    
<li>
    <a href="../2020-03-24-faust-citi/" class="dropdown-item"> 2020-03-24 CITI </a>
</li>
                                    
<li>
    <a href="./" class="dropdown-item active"> 2020-04-10 Faust 101 </a>
</li>
                                    
<li>
    <a href="../2020-04-10-faust-juce/" class="dropdown-item"> 2020-04-10 Faust & JUCE </a>
</li>
                                </ul>
                            </li>
                            <li class="navitem">
                                <a href="../../about/" class="nav-link">About</a>
                            </li>
                        </ul>

                    <ul class="nav navbar-nav ml-auto">
                        <li class="nav-item">
                            <a href="#" class="nav-link" data-toggle="modal" data-target="#mkdocs_search_modal">
                                <i class="fa fa-search"></i> Search
                            </a>
                        </li>
                            <li class="nav-item">
                                <a rel="prev" href="../2020-03-24-faust-citi/" class="nav-link">
                                    <i class="fa fa-arrow-left"></i> Previous
                                </a>
                            </li>
                            <li class="nav-item">
                                <a rel="next" href="../2020-04-10-faust-juce/" class="nav-link">
                                    Next <i class="fa fa-arrow-right"></i>
                                </a>
                            </li>
                    </ul>
                </div>
            </div>
        </div>

        <div class="container">
            <div class="row">
                    <div class="col-md-3"><div class="navbar-light navbar-expand-md bs-sidebar hidden-print affix" role="complementary">
    <div class="navbar-header">
        <button type="button" class="navbar-toggler collapsed" data-toggle="collapse" data-target="#toc-collapse" title="Table of Contents">
            <span class="fa fa-angle-down"></span>
        </button>
    </div>

    
    <div id="toc-collapse" class="navbar-collapse collapse card bg-secondary">
        <ul class="nav flex-column">
            
            <li class="nav-item" data-level="1"><a href="#faust-101-for-the-confined" class="nav-link">Faust 101 for the confined</a>
              <ul class="nav flex-column">
            <li class="nav-item" data-level="2"><a href="#super-simple-examples" class="nav-link">Super simple examples</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-level="2"><a href="#delays-and-feedbacks" class="nav-link">Delays and Feedbacks</a>
              <ul class="nav flex-column">
              </ul>
            </li>
              </ul>
            </li>
        </ul>
    </div>
</div></div>
                    <div class="col-md-9" role="main">

<h1 id="faust-101-for-the-confined">Faust 101 for the confined</h1>
<p>The covid-19 containment offers us at least one excellent opportunity to train! If you've always wanted to get into Faust programming but didn't have the time, here's your chance! </p>
<p>The objective of this workshop is to familiarize you with the Faust language through very simple examples of signal processing and sound synthesis.
The documentation and the examples we will use can be found here: <a href="https://faustdoc.grame.fr">https://faustdoc.grame.fr</a>. All examples will be run in the online Faust IDE <a href="https://faustide.grame.fr">https://faustide.grame.fr</a>. If ever the sounds produced with the IDE are of poor quality, with some clicks, one can use the online editor, which is more rustic, but also lighter <a href="https://fausteditor.grame.fr">https://fausteditor.grame.fr</a>.</p>
<h2 id="super-simple-examples">Super simple examples</h2>
<p>Let start with super simple examples.</p>
<h3 id="the-simplest-faust-program">The simplest Faust program</h3>
<p>This is the simplest Faust program imaginable. It contains only one line of code, the definition: <code>process = _;</code>.</p>
<!-- faust-run -->

<div class="faust-run"><img src="exfaust0/exfaust0.svg" class="mx-auto d-block">

<pre><code>
process = _;

</code></pre>


<a href="https://faustide.grame.fr/?code=https://faustdoc.grame.fr/workshops/2020-04-10-faust-101/exfaust0/exfaust0.dsp" target="editor">
<button type="button" class="btn btn-primary">Try it Yourself >></button></a>
</div>

<!-- /faust-run -->

<p>Several lessons can be learned from this very simple example:</p>
<ul>
<li>a Faust program has at least one definition, that of the keyword <code>process</code> which indicates the entry point of the program. </li>
<li>A definition always ends with a <code>;</code>. A common mistake is to forget the semicolon at the end of a definition.</li>
<li>the <code>_</code> sign represents one of the <em>primitives</em> of the language (primitives are the predefined functions of the language). It represents an <em>audio cable</em> that lets the signal pass through without transforming it. This is what one calls in mathematics the <em>identity</em> function, the signal which enters on the left comes out on the right identically. </li>
</ul>
<p>Lets try this program using the online Faust IDE...</p>
<h3 id="adding-two-signals">Adding two signals</h3>
<p>We saw in the previous example the primitive <code>_</code>. Faust has a large number of primitives, including all mathematical operations (see ).</p>
<p>The <code>+</code> primitive for instance is used to add two signals. It can therefore be used to transform a stereophonic signal (on two channels) into a monophonic signal as in the following example:</p>
<!-- faust-run -->

<div class="faust-run"><img src="exfaust1/exfaust1.svg" class="mx-auto d-block">

<pre><code>
process = +;

</code></pre>


<a href="https://faustide.grame.fr/?code=https://faustdoc.grame.fr/workshops/2020-04-10-faust-101/exfaust1/exfaust1.dsp" target="editor">
<button type="button" class="btn btn-primary">Try it Yourself >></button></a>
</div>

<!-- /faust-run -->

<h3 id="multiplying-two-signals">Multiplying two signals</h3>
<p>The <code>*</code> primitive for instance is used to multiply two signals. </p>
<!-- faust-run -->

<div class="faust-run"><img src="exfaust2/exfaust2.svg" class="mx-auto d-block">

<pre><code>
process = *;

</code></pre>


<a href="https://faustide.grame.fr/?code=https://faustdoc.grame.fr/workshops/2020-04-10-faust-101/exfaust2/exfaust2.dsp" target="editor">
<button type="button" class="btn btn-primary">Try it Yourself >></button></a>
</div>

<!-- /faust-run -->

<p>As you can hear, multiplying the two channels of a signal between them transforms the sound quite drastically.</p>
<h3 id="parallel-composition">Parallel composition</h3>
<p>Programming in Faust consists in assembling primitive operations to form more or less complex audio circuits. To realize these assemblies Faust has 5 composition operations: <code>~</code>, <code>,</code>, <code>;</code>, <code>&lt;:</code>, <code>:&gt;</code>.  </p>
<p>Let's first look at the parallel composition represented by the comma <code>,</code>. </p>
<!-- faust-run -->

<div class="faust-run"><img src="exfaust3/exfaust3.svg" class="mx-auto d-block">

<pre><code>
process = _, _;

</code></pre>


<a href="https://faustide.grame.fr/?code=https://faustdoc.grame.fr/workshops/2020-04-10-faust-101/exfaust3/exfaust3.dsp" target="editor">
<button type="button" class="btn btn-primary">Try it Yourself >></button></a>
</div>

<!-- /faust-run -->

<p>We made a <em>stereo cable</em> and when we play the audio file we now hear it on both speakers.</p>
<p>It is very important to distinguish between <em>primitives</em>, such as <code>_</code>, <code>+</code> or <code>*</code>, and <em>composition operations</em> such as <code>,</code> or <code>;</code>.  <em>Primitives</em> represent operations on audio signals, whereas composition operations are used to link two audio operations together. In other words, you can write <code>+</code> or <code>*</code> alone, because they represent valid audio operations, but you can never write <code>,</code> or <code>:</code> alone because they are used to connect two audio operations. You must always write <code>A,B</code> or <code>A:B</code>.</p>
<p>Here is a summary table of the five composition operators:</p>
<table>
<thead>
<tr>
<th>Syntax</th>
<th>Priority</th>
<th>Association</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>A ~ B</code></td>
<td>4</td>
<td>left</td>
<td>Recursive Composition</td>
</tr>
<tr>
<td><code>A , B</code></td>
<td>3</td>
<td>right</td>
<td>Parallel Composition</td>
</tr>
<tr>
<td><code>A : B</code></td>
<td>2</td>
<td>right</td>
<td>Sequential Composition</td>
</tr>
<tr>
<td><code>A &lt;: B</code></td>
<td>1</td>
<td>right</td>
<td>Split Composition</td>
</tr>
<tr>
<td><code>A :&gt; B</code></td>
<td>1</td>
<td>right</td>
<td>Merge Composition</td>
</tr>
</tbody>
</table>
<h3 id="controlling-the-volume">Controlling the volume</h3>
<p>Let's see an example where we combine three primitives:
  <code>_</code>, <code>0.1</code> and <code>*</code>,
with two composition operators:
<code>,</code> and <code>:</code>.</p>
<p>The idea here is to lower the volume of the incoming signal to one tenth of its initial value. This is done by multiplying the incoming signal by <code>0.1</code>:</p>
<!-- faust-run -->

<div class="faust-run"><img src="exfaust4/exfaust4.svg" class="mx-auto d-block">

<pre><code>
process = (_, 0.1) : *; // try to replace 0.1 by other values between 0 and 1

</code></pre>


<a href="https://faustide.grame.fr/?code=https://faustdoc.grame.fr/workshops/2020-04-10-faust-101/exfaust4/exfaust4.dsp" target="editor">
<button type="button" class="btn btn-primary">Try it Yourself >></button></a>
</div>

<!-- /faust-run -->

<p>Note that we have used parentheses in this example to clearly mark the order in which things should be done. We start by putting <code>_</code> and <code>0.1</code> in parallel, and then compose them in sequence with <code>*</code>.</p>
<p>But, just as in <code>(2*3)+7</code> were the parentheses are not really necessary because multiplication takes precedence over addition, one could write directly <code>process = _,0.1 : *;</code> without the parentheses, because parallel composing takes precedence over sequential composing. The priority of the composition operators is shown in the previous table.</p>
<h3 id="controlling-the-volume-with-a-slider">Controlling the volume with a slider</h3>
<p>Instead of controlling the volume by editing the code, it is far more convenient to use a graphical slider. For that purpose we can use a <code>hslider(...)</code>, a horizontal slider. It takes five parameters. The first one is the name <code>"volume"</code>, then we have the defaut value <code>0.1</code>, the mimimun value <code>0</code>, the maximum value <code>1</code> and a step value <code>0.1</code>. So here the default value is <code>0.1</code> </p>
<!-- faust-run -->

<div class="faust-run"><img src="exfaust5/exfaust5.svg" class="mx-auto d-block">

<pre><code>
process = _, hslider(&quot;volume&quot;, 0.1, 0, 1, 0.01) : *;

</code></pre>


<a href="https://faustide.grame.fr/?code=https://faustdoc.grame.fr/workshops/2020-04-10-faust-101/exfaust5/exfaust5.dsp" target="editor">
<button type="button" class="btn btn-primary">Try it Yourself >></button></a>
</div>

<!-- /faust-run -->

<h3 id="mono-amplifier">Mono Amplifier</h3>
<p>So far we have written very simple programs that fit into one line of code. We will now introduce additional definitions. A definition should be understood as a way of giving a name to something, which saves us from typing the definition every time and makes the program easier to understand.</p>
<!-- faust-run -->

<div class="faust-run"><img src="exfaust6/exfaust6.svg" class="mx-auto d-block">

<pre><code>
monoamp = _, hslider(&quot;volume&quot;, 0.1, 0, 1, 0.01) : *;
process = monoamp;

</code></pre>


<a href="https://faustide.grame.fr/?code=https://faustdoc.grame.fr/workshops/2020-04-10-faust-101/exfaust6/exfaust6.dsp" target="editor">
<button type="button" class="btn btn-primary">Try it Yourself >></button></a>
</div>

<!-- /faust-run -->

<h3 id="stereo-amplifier">Stereo Amplifier</h3>
<p>Continuing in the same vein, we will define a stereo amplifier as two mono amplifiers in parallel.</p>
<!-- faust-run -->

<div class="faust-run"><img src="exfaust7/exfaust7.svg" class="mx-auto d-block">

<pre><code>
monoamp = _, hslider(&quot;volume&quot;, 0.1, 0, 1, 0.01) : *;
stereoamp = monoamp,monoamp;

process = stereoamp;

</code></pre>


<a href="https://faustide.grame.fr/?code=https://faustdoc.grame.fr/workshops/2020-04-10-faust-101/exfaust7/exfaust7.dsp" target="editor">
<button type="button" class="btn btn-primary">Try it Yourself >></button></a>
</div>

<!-- /faust-run -->

<p>Note that even if the hslider volume appears several times in our code, there will only be one in the user interface.</p>
<h3 id="vertical-sliders">Vertical sliders</h3>
<p>Instead of horizontal sliders, we could use vertical sliders. Just replace hslider(...) with vslider(...).</p>
<!-- faust-run -->

<div class="faust-run"><img src="exfaust8/exfaust8.svg" class="mx-auto d-block">

<pre><code>
monoamp = _, vslider(&quot;volume&quot;, 0.1, 0, 1, 0.01) : *;
stereoamp = monoamp,monoamp;

process = stereoamp;

</code></pre>


<a href="https://faustide.grame.fr/?code=https://faustdoc.grame.fr/workshops/2020-04-10-faust-101/exfaust8/exfaust8.dsp" target="editor">
<button type="button" class="btn btn-primary">Try it Yourself >></button></a>
</div>

<!-- /faust-run -->

<h3 id="knobs-instead-of-sliders">Knobs instead of sliders</h3>
<p>By default sliders are ... sliders! You can change their appearance by using the metadata mechanism. </p>
<p>Metadata is information that you put in square brackets in the slider name. For example the metadata "...[style:knob]..." allows you to turn the slider into a rotary knob.</p>
<!-- faust-run -->

<div class="faust-run"><img src="exfaust9/exfaust9.svg" class="mx-auto d-block">

<pre><code>
monoamp = _, vslider(&quot;volume[style:knob]&quot;, 0.1, 0, 1, 0.01) : *;

stereoamp = monoamp,monoamp;

process = stereoamp;

</code></pre>


<a href="https://faustide.grame.fr/?code=https://faustdoc.grame.fr/workshops/2020-04-10-faust-101/exfaust9/exfaust9.dsp" target="editor">
<button type="button" class="btn btn-primary">Try it Yourself >></button></a>
</div>

<!-- /faust-run -->

<h3 id="syntactic-sugar">Syntactic sugar</h3>
<p>So far we used the core syntax of Faust. For example to multiply the incomming signal by <code>0.1</code> we wrote <code>_,0.1:*</code>. For numerical expressions this notation is not always the most convenient and sometime we would prefer to use the more traditional infix notation and write instead <code>_*0.1</code>. We can also use the prefixed notation and write <code>*(0.1)</code>. </p>
<p>Let's rewrite the definition of the monoamp using the prefix notation:</p>
<!-- faust-run -->

<div class="faust-run"><img src="exfaust10/exfaust10.svg" class="mx-auto d-block">

<pre><code>
monoamp = *(vslider(&quot;volume[style:knob]&quot;, 0.1, 0, 1, 0.01));

stereoamp = monoamp,monoamp;

process = stereoamp;

</code></pre>


<a href="https://faustide.grame.fr/?code=https://faustdoc.grame.fr/workshops/2020-04-10-faust-101/exfaust10/exfaust10.dsp" target="editor">
<button type="button" class="btn btn-primary">Try it Yourself >></button></a>
</div>

<!-- /faust-run -->

<p>Here is a table of equivalent notations. Keep in mind that infix and prefix expressions are translated to core syntax.</p>
<p>Here is a table with the same expression in all three syntaxes.</p>
<table>
<thead>
<tr>
<th>Expression</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>_,0.1:*</code></td>
<td>core syntax</td>
</tr>
<tr>
<td><code>_*0.1</code></td>
<td>infix notation</td>
</tr>
<tr>
<td><code>*(0.1)</code></td>
<td>prefix notation</td>
</tr>
</tbody>
</table>
<p>These notations can be freely combined. For example, the following expressions are all equivalent:</p>
<table>
<thead>
<tr>
<th>Expression</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>*(1-m)</code></td>
<td>prefix + infix notation</td>
</tr>
<tr>
<td><code>_*(1-m)</code></td>
<td>only infix notation</td>
</tr>
<tr>
<td><code>_,(1,m:-):*</code></td>
<td>core syntax</td>
</tr>
</tbody>
</table>
<h3 id="a-mute-button">A <em>mute</em> button</h3>
<p>We would like to be able to mute the sound completely at the touch of a button, without having to change the volume. </p>
<p>Let's add a mute stage to our mono amplifier. In order to mute the signal we just have to mutiply it by 0. We will use for that purpose a <code>checkbox(...)</code>, a user interface element that produces a signal which is 0 by default and 1 when it is checked. As we want to multiply the signal by 0 when the checkbox is checked we will use <code>1-checkbox ("mute")</code>.</p>
<!-- faust-run -->

<div class="faust-run"><img src="exfaust11/exfaust11.svg" class="mx-auto d-block">

<pre><code>
mute = *(1-checkbox(&quot;mute&quot;));

monoamp = *(vslider(&quot;volume[style:knob]&quot;, 0.1, 0, 1, 0.01)) : mute;

stereoamp = monoamp,monoamp;

process = stereoamp;

</code></pre>


<a href="https://faustide.grame.fr/?code=https://faustdoc.grame.fr/workshops/2020-04-10-faust-101/exfaust11/exfaust11.dsp" target="editor">
<button type="button" class="btn btn-primary">Try it Yourself >></button></a>
</div>

<!-- /faust-run -->

<h3 id="vertical-and-horizontal-layout">Vertical and horizontal Layout</h3>
<p>As can be seen in the previous example, by default, the layout of the elements is vertical. You can change this layout by using  <code>hgroup(...)</code> and  <code>vgroup(...)</code>. For example to make the layout horizontal you can write:</p>
<!-- faust-run -->

<div class="faust-run"><img src="exfaust12/exfaust12.svg" class="mx-auto d-block">

<pre><code>
mute = *(1-checkbox(&quot;mute&quot;));

monoamp = *(vslider(&quot;volume[style:knob]&quot;, 0.1, 0, 1, 0.01)) : mute;

stereoamp = hgroup(&quot;Marshall&quot;, monoamp,monoamp);

process = stereoamp;

</code></pre>


<a href="https://faustide.grame.fr/?code=https://faustdoc.grame.fr/workshops/2020-04-10-faust-101/exfaust12/exfaust12.dsp" target="editor">
<button type="button" class="btn btn-primary">Try it Yourself >></button></a>
</div>

<!-- /faust-run -->

<h3 id="differentiate-the-volume-of-the-two-channels">Differentiate the volume of the two channels</h3>
<p>To differentiate the volume control of our two channels, we will parametrize monoamp with a channel number <code>c</code> which will be used to differentiate the name of each volume control. Note that the name <code>c</code> of the parameter must only have one letter to be well interpreted in the slider name <code>"volume %c[style:knob]"</code>.</p>
<!-- faust-run -->

<div class="faust-run"><img src="exfaust13/exfaust13.svg" class="mx-auto d-block">

<pre><code>
mute = *(1-checkbox(&quot;mute&quot;));

monoamp(c) = *(vslider(&quot;volume %c[style:knob]&quot;, 0.1, 0, 1, 0.01)) : mute;

stereoamp = hgroup(&quot;Marshall&quot;, monoamp(0),monoamp(1));

process = stereoamp;

</code></pre>


<a href="https://faustide.grame.fr/?code=https://faustdoc.grame.fr/workshops/2020-04-10-faust-101/exfaust13/exfaust13.dsp" target="editor">
<button type="button" class="btn btn-primary">Try it Yourself >></button></a>
</div>

<!-- /faust-run -->

<h3 id="having-many-channels">Having many channels</h3>
<p>We have built a stereo amp, but suppose we wanted to generalize this construction to an arbitrary number of channels. To do so, we will instroduce the <code>par(i, N, ...)</code> construction which allows us to put several times an expression in parallel. It is in a way the equivalent of the for() loop of a classical programming language. </p>
<p>In our case we want to indicate the number of channels of our amplifier.</p>
<!-- faust-run -->

<div class="faust-run"><img src="exfaust14/exfaust14.svg" class="mx-auto d-block">

<pre><code>
mute = *(1-checkbox(&quot;mute&quot;));

monoamp(c) = *(vslider(&quot;volume %c[style:knob]&quot;, 0.1, 0, 1, 0.01)) : mute;

multiamp(N) = hgroup(&quot;Marshall&quot;, par(i, N, monoamp(i)));

process = multiamp(2); // try multiamp(4)

</code></pre>


<a href="https://faustide.grame.fr/?code=https://faustdoc.grame.fr/workshops/2020-04-10-faust-101/exfaust14/exfaust14.dsp" target="editor">
<button type="button" class="btn btn-primary">Try it Yourself >></button></a>
</div>

<!-- /faust-run -->

<h2 id="delays-and-feedbacks">Delays and Feedbacks</h2>
<p>In this new section we will see two important notions, that of delay with the <code>@</code> primitive, and that of feedback (from a looped circuit) which will require the use of the recursive composition <code>A~B</code> which allows to loop the outputs of A into the inputs of B and the outputs of B into the inputs of A.</p>
<h3 id="monophonic-delay-of-1-second">Monophonic delay of 1 second</h3>
<p>Let's start with a very simple example, a monophonic delay of  1 seconds or 44100 samples. We will use the prefix notation</p>
<!-- faust-run -->

<div class="faust-run"><img src="exfaust15/exfaust15.svg" class="mx-auto d-block">

<pre><code>
process = _, 44100 : @;

</code></pre>


<a href="https://faustide.grame.fr/?code=https://faustdoc.grame.fr/workshops/2020-04-10-faust-101/exfaust15/exfaust15.dsp" target="editor">
<button type="button" class="btn btn-primary">Try it Yourself >></button></a>
</div>

<!-- /faust-run -->

<p>Or, using the prefix notation:</p>
<!-- faust-run -->

<div class="faust-run"><img src="exfaust16/exfaust16.svg" class="mx-auto d-block">

<pre><code>
process = @(44100); 
// prefix notation
// equivalent to 
// process = _, 44100 ; @;

</code></pre>


<a href="https://faustide.grame.fr/?code=https://faustdoc.grame.fr/workshops/2020-04-10-faust-101/exfaust16/exfaust16.dsp" target="editor">
<button type="button" class="btn btn-primary">Try it Yourself >></button></a>
</div>

<!-- /faust-run --></div>
            </div>
        </div>

        <footer class="col-md-12">
            <hr>
                <p>Copyright &copy; 2020 <a href="http://www.grame.fr">Grame-CNCM</a></p>
            <p>Documentation built with <a href="https://www.mkdocs.org/">MkDocs</a>.</p>
        </footer>
        <script>
            var base_url = "../..",
                shortcuts = {"help": 191, "next": 78, "previous": 80, "search": 83};
        </script>
        <script src="../../js/base.js" defer></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML" defer></script>
        <script src="../../search/main.js" defer></script>

        <div class="modal" id="mkdocs_search_modal" tabindex="-1" role="dialog" aria-labelledby="searchModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title" id="searchModalLabel">Search</h4>
                <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
            </div>
            <div class="modal-body">
                <p>
                    From here you can search these documents. Enter
                    your search terms below.
                </p>
                <form>
                    <div class="form-group">
                        <input type="text" class="form-control" placeholder="Search..." id="mkdocs-search-query" title="Type search term here">
                    </div>
                </form>
                <div id="mkdocs-search-results"></div>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div><div class="modal" id="mkdocs_keyboard_modal" tabindex="-1" role="dialog" aria-labelledby="keyboardModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title" id="keyboardModalLabel">Keyboard Shortcuts</h4>
                <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
            </div>
            <div class="modal-body">
              <table class="table">
                <thead>
                  <tr>
                    <th style="width: 20%;">Keys</th>
                    <th>Action</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td class="help shortcut"><kbd>?</kbd></td>
                    <td>Open this help</td>
                  </tr>
                  <tr>
                    <td class="next shortcut"><kbd>n</kbd></td>
                    <td>Next page</td>
                  </tr>
                  <tr>
                    <td class="prev shortcut"><kbd>p</kbd></td>
                    <td>Previous page</td>
                  </tr>
                  <tr>
                    <td class="search shortcut"><kbd>s</kbd></td>
                    <td>Search</td>
                  </tr>
                </tbody>
              </table>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div>

    </body>
</html>
